---
layout: default
---

<main class="home" id="post" role="main" itemprop="mainContentOfPage" itemscope="itemscope" itemtype="http://schema.org/Blog">
    <h1> Choose a track below! </h1>
    {% assign sorted = site.posts | sort: 'date' %}
    {% for this_tag in site.tags %}
        <button type="button" class="collapsible">{{this_tag[0]}}</button>
        <div id="grid" class="row flex-grid" style="max-height:0; overflow:hidden">
            {% for post in sorted %}
            <!-- because contains just doesn't work :eyeroll: -->
            {%assign tagged = false %}{% for post_tag in post.tags %}{% if post_tag == this_tag[0] %}{%assign tagged = true %}{% endif %}{% endfor %}
            {% if tagged %}
            <!-- should use a generator to give each post the "deep" prereqs, i think that will work -->
            <article class="box-item post-{{post.main-class}}" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
                <span class="ribbon">
                    <a href="{{site.url}}{{site.baseurl}}/categories/{{post.main-class}}"><span>{{post.main-class}}</span></a>
                </span>
                <div class="box-body">
                    <meta itemprop="datePublished" content="{{post.date | date_to_xmlschema }}">
                    <time itemprop="datePublished" datetime="{{ post.date }}" class="date">{{ post.date | date_to_string }}</time>
                    <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">
                        <h2 class="post-title" itemprop="name">
                            {{ post.title }}
                        </h2>
                    </a>
                    <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">
                        <p class="description">{{ post.description }}</p>
                    </a>
                    {% if true %}
                    <div class="tags">
                        {% for tag in post.tags %}
                            <a href="{{site.baseurl}}/tags/#{{tag | slugify }}">{{ tag }}</a>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            </article>
            {% endif %}
            {% endfor %} 
        </div>
    {% endfor %} 
</main>

<script>
    var coll = document.getElementsByClassName("collapsible");
    var i;
    
    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        console.log('before:',content,content.style.maxHeight)
        if (content.style.maxHeight){
          content.style.maxHeight = null;
          content.style.padding = 10+"px";
        } else {
          content.style.maxHeight = 0+"px";
          content.style.padding = null;
        }
      });
    }
</script>